const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./inputs-DoHVubAa.js","./inputs-Cuu9vI3M.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();class T extends Error{constructor(t,n){super(t),this.input=n}}T.prototype.name="RuntimeError";function it(e){return e&&typeof e.next=="function"&&typeof e.return=="function"}function le(e){return()=>e}function Z(e){return e}function ot(e){return()=>{throw e}}const st=Array.prototype,at=st.map;function I(){}const fe=1,Y=2,J=3,V=Symbol("no-observer"),lt=Promise.resolve();function N(e,t,n,r){n||(n=V),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:pe,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:NaN,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:I,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:lt,writable:!0},_reachable:{value:n!==V,writable:!0},_rejector:{value:ft(this)},_shadow:{value:ct(t,r)},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}Object.defineProperties(N.prototype,{_pending:{value:yt,writable:!0,configurable:!0},_fulfilled:{value:bt,writable:!0,configurable:!0},_rejected:{value:vt,writable:!0,configurable:!0},_resolve:{value:mt,writable:!0,configurable:!0},define:{value:pt,writable:!0,configurable:!0},delete:{value:_t,writable:!0,configurable:!0},import:{value:ht,writable:!0,configurable:!0}});function ct(e,t){return t?.shadow?new Map(Object.entries(t.shadow).map(([n,r])=>[n,new N(Y,e).define([],r)])):null}function ut(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function dt(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function pe(){throw pe}function O(){throw O}function ft(e){return t=>{throw t===O?t:t===pe?new T(`${e._name} is not defined`,e._name):t instanceof Error&&t.message?new T(t.message,e._name):new T(`${e._name} could not be resolved`,e._name)}}function Pe(e){return()=>{throw new T(`${e} is defined more than once`)}}function pt(e,t,n){switch(arguments.length){case 1:{n=e,e=t=null;break}case 2:{n=t,typeof e=="string"?t=null:(t=e,e=null);break}}return me.call(this,e==null?null:String(e),t==null?[]:at.call(t,this._resolve,this),typeof n=="function"?n:le(n))}function mt(e){return this._shadow?.get(e)??this._module._resolve(e)}function me(e,t,n){const r=this._module._scope,i=this._module._runtime;if(this._inputs.forEach(dt,this),t.forEach(ut,this),this._inputs=t,this._definition=n,this._value=void 0,n===I?i._variables.delete(this):i._variables.add(this),e!==this._name||r.get(e)!==this){let o,s;if(this._name)if(this._outputs.size)r.delete(this._name),s=this._module._resolve(this._name),s._outputs=this._outputs,this._outputs=new Set,s._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(this)]=s},this),s._outputs.forEach(i._updates.add,i._updates),i._dirty.add(s).add(this),r.set(this._name,s);else if((s=r.get(this._name))===this)r.delete(this._name);else if(s._type===J)s._duplicates.delete(this),this._duplicate=void 0,s._duplicates.size===1&&(s=s._duplicates.keys().next().value,o=r.get(this._name),s._outputs=o._outputs,o._outputs=new Set,s._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(o)]=s}),s._definition=s._duplicate,s._duplicate=void 0,i._dirty.add(o).add(s),i._updates.add(s),r.set(this._name,s));else throw new Error;if(this._outputs.size)throw new Error;e&&((s=r.get(e))?s._type===J?(this._definition=Pe(e),this._duplicate=n,s._duplicates.add(this)):s._type===Y?(this._outputs=s._outputs,s._outputs=new Set,this._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(s)]=this},this),i._dirty.add(s).add(this),r.set(e,this)):(s._duplicate=s._definition,this._duplicate=n,o=new N(J,this._module),o._name=e,o._definition=this._definition=s._definition=Pe(e),o._outputs=s._outputs,s._outputs=new Set,o._outputs.forEach(function(a){a._inputs[a._inputs.indexOf(s)]=o}),o._duplicates=new Set([this,s]),i._dirty.add(s).add(o),i._updates.add(s).add(o),r.set(e,o)):r.set(e,this)),this._name=e}return this._version>0&&++this._version,i._updates.add(this),i._compute(),this}function ht(e,t,n){return arguments.length<3&&(n=t,t=e),me.call(this,String(t),[n._resolve(String(e))],Z)}function _t(){return me.call(this,null,[],I)}function yt(){this._observer.pending&&this._observer.pending()}function bt(e){this._observer.fulfilled&&this._observer.fulfilled(e,this._name)}function vt(e){this._observer.rejected&&this._observer.rejected(e,this._name)}const De=Symbol("variable"),Me=Symbol("invalidation"),je=Symbol("visibility");function X(e,t=[]){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map},_builtins:{value:new Map([["@variable",De],["invalidation",Me],["visibility",je],...t])},_source:{value:null,writable:!0}})}Object.defineProperties(X.prototype,{_resolve:{value:Pt,writable:!0,configurable:!0},redefine:{value:gt,writable:!0,configurable:!0},define:{value:wt,writable:!0,configurable:!0},derive:{value:$t,writable:!0,configurable:!0},import:{value:Et,writable:!0,configurable:!0},value:{value:Ct,writable:!0,configurable:!0},variable:{value:xt,writable:!0,configurable:!0},builtin:{value:Tt,writable:!0,configurable:!0}});function gt(e){const t=this._scope.get(e);if(!t)throw new T(`${e} is not defined`);if(t._type===J)throw new T(`${e} is defined more than once`);return t.define.apply(t,arguments)}function wt(){const e=new N(fe,this);return e.define.apply(e,arguments)}function Et(){const e=new N(fe,this);return e.import.apply(e,arguments)}function xt(e,t){return new N(fe,this,e,t)}async function Ct(e){let t=this._scope.get(e);if(!t)throw new T(`${e} is not defined`);if(t._observer===V){t=this.variable(!0).define([e],Z);try{return await ce(this._runtime,t)}finally{t.delete()}}else return ce(this._runtime,t)}async function ce(e,t){await e._compute();try{return await t._promise}catch(n){if(n===O)return ce(e,t);throw n}}function $t(e,t){const n=new Map,r=new Set,i=[];function o(a){let c=n.get(a);return c||(c=new X(a._runtime,a._builtins),c._source=a,n.set(a,c),i.push([c,a]),r.add(a),c)}const s=o(this);for(const a of e){const{alias:c,name:l}=typeof a=="object"?a:{name:a};s.import(l,c??l,t)}for(const a of r)for(const[c,l]of a._scope)if(l._definition===Z){if(a===this&&s._scope.has(c))continue;const u=l._inputs[0]._module;u._source&&o(u)}for(const[a,c]of i)for(const[l,u]of c._scope){const d=a._scope.get(l);if(!(d&&d._type!==Y))if(u._definition===Z){const y=u._inputs[0],m=y._module;a.import(y._name,l,n.get(m)||m)}else a.define(l,u._inputs.map(Ot),u._definition)}return s}function Pt(e){let t=this._scope.get(e),n;if(!t)if(t=new N(Y,this),this._builtins.has(e))t.define(e,le(this._builtins.get(e)));else if(this._runtime._builtin._scope.has(e))t.import(e,this._runtime._builtin);else{try{n=this._runtime._global(e)}catch(r){return t.define(e,ot(r))}n===void 0?this._scope.set(t._name=e,t):t.define(e,le(n))}return t}function Tt(e,t){this._builtins.set(e,t)}function Ot(e){return e._name}const St=typeof requestAnimationFrame=="function"?requestAnimationFrame:typeof setImmediate=="function"?setImmediate:e=>setTimeout(e,0);function qe(e,t=Gt){const n=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_precomputes:{value:[],writable:!0},_computing:{value:null,writable:!0},_init:{value:null,writable:!0},_modules:{value:new Map},_variables:{value:new Set},_disposed:{value:!1,writable:!0},_builtin:{value:n},_global:{value:t}}),e)for(const r in e)new N(Y,n).define(r,[],e[r])}Object.defineProperties(qe.prototype,{_precompute:{value:Lt,writable:!0,configurable:!0},_compute:{value:Nt,writable:!0,configurable:!0},_computeSoon:{value:kt,writable:!0,configurable:!0},_computeNow:{value:Dt,writable:!0,configurable:!0},dispose:{value:It,writable:!0,configurable:!0},module:{value:At,writable:!0,configurable:!0}});function It(){this._computing=Promise.resolve(),this._disposed=!0,this._variables.forEach(e=>{e._invalidate(),e._version=NaN})}function At(e,t=I){let n;if(e===void 0)return(n=this._init)?(this._init=null,n):new X(this);if(n=this._modules.get(e),n)return n;this._init=n=new X(this),this._modules.set(e,n);try{e(this,t)}finally{this._init=null}return n}function Lt(e){this._precomputes.push(e),this._compute()}function Nt(){return this._computing||(this._computing=this._computeSoon())}function kt(){return new Promise(St).then(()=>this._disposed?void 0:this._computeNow())}async function Dt(){let e=[],t,n,r=this._precomputes;if(r.length){this._precomputes=[];for(const o of r)o();await Mt(3)}t=new Set(this._dirty),t.forEach(function(o){o._inputs.forEach(t.add,t);const s=Ht(o);s>o._reachable?this._updates.add(o):s<o._reachable&&o._invalidate(),o._reachable=s},this),t=new Set(this._updates),t.forEach(function(o){o._reachable?(o._indegree=0,o._outputs.forEach(t.add,t)):(o._indegree=NaN,t.delete(o))}),this._computing=null,this._updates.clear(),this._dirty.clear(),t.forEach(function(o){o._outputs.forEach(qt)});do{for(t.forEach(function(o){o._indegree===0&&e.push(o)});n=e.pop();)zt(n),n._outputs.forEach(i),t.delete(n);t.forEach(function(o){jt(o)&&(Bt(o,new T("circular definition")),o._outputs.forEach(Rt),t.delete(o))})}while(t.size);function i(o){--o._indegree===0&&e.push(o)}}function Mt(e=0){let t=Promise.resolve();for(let n=0;n<e;++n)t=t.then(()=>{});return t}function jt(e){const t=new Set(e._inputs);for(const n of t){if(n===e)return!0;n._inputs.forEach(t.add,t)}return!1}function qt(e){++e._indegree}function Rt(e){--e._indegree}function Ft(e){return e._promise.catch(e._rejector)}function se(e){return new Promise(function(t){e._invalidate=t})}function Ut(e,t){let n=typeof IntersectionObserver=="function"&&t._observer&&t._observer._node,r=!n,i=I,o=I,s,a;return n&&(a=new IntersectionObserver(([c])=>(r=c.isIntersecting)&&(s=null,i())),a.observe(n),e.then(()=>(a.disconnect(),a=null,o()))),function(c){return r?Promise.resolve(c):a?(s||(s=new Promise((l,u)=>(i=l,o=u))),s.then(()=>c)):Promise.reject()}}function zt(e){e._invalidate(),e._invalidate=I,e._pending();const t=e._value,n=++e._version,r=e._inputs,i=e._definition;let o=null;const s=e._promise=e._promise.then(a,a).then(c).then(l);function a(){return Promise.all(r.map(Ft))}function c(u){if(e._version!==n)throw O;for(let d=0,y=u.length;d<y;++d)switch(u[d]){case Me:{u[d]=o=se(e);break}case je:{o||(o=se(e)),u[d]=Ut(o,e);break}case De:{u[d]=e;break}}return i.apply(t,u)}function l(u){if(e._version!==n)throw O;return it(u)?((o||se(e)).then(Yt(u)),Vt(e,n,u)):u}s.then(u=>{e._value=u,e._fulfilled(u)},u=>{u===O||e._version!==n||(e._value=void 0,e._rejected(u))})}function Vt(e,t,n){const r=e._module._runtime;let i;function o(c){return new Promise(l=>l(n.next(i))).then(({done:l,value:u})=>l?void 0:Promise.resolve(u).then(c))}function s(){const c=o(l=>{if(e._version!==t)throw O;return i=l,a(l,c).then(()=>r._precompute(s)),e._fulfilled(l),l});c.catch(l=>{l===O||e._version!==t||(a(void 0,c),e._rejected(l))})}function a(c,l){return e._value=c,e._promise=l,e._outputs.forEach(r._updates.add,r._updates),r._compute()}return o(c=>{if(e._version!==t)throw O;return i=c,r._precompute(s),c})}function Bt(e,t){e._invalidate(),e._invalidate=I,e._pending(),++e._version,e._indegree=NaN,(e._promise=Promise.reject(t)).catch(I),e._value=void 0,e._rejected(t)}function Yt(e){return function(){e.return()}}function Ht(e){if(e._observer!==V)return!0;const t=new Set(e._outputs);for(const n of t){if(n._observer!==V)return!0;n._outputs.forEach(t.add,t)}return!1}function Gt(e){return globalThis[e]}function Q(e,t,n){n=n||{};var r=e.ownerDocument,i=r.defaultView.CustomEvent;typeof i=="function"?i=new i(t,{detail:n}):(i=r.createEvent("Event"),i.initEvent(t,!1,!1),i.detail=n),e.dispatchEvent(i)}function Re(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function Fe(e){return e===(e|0)+""}function $(e){const t=document.createElement("span");return t.className="observablehq--cellname",t.textContent=`${e} = `,t}const Wt=Symbol.prototype.toString;function q(e){return Wt.call(e)}const{getOwnPropertySymbols:Jt,prototype:{hasOwnProperty:Kt}}=Object,{toStringTag:Zt}=Symbol,Ue={},H=Jt;function ie(e,t){return Kt.call(e,t)}function ue(e){return e[Zt]||e.constructor&&e.constructor.name||"Object"}function E(e,t){try{const n=e[t];return n&&n.constructor,n}catch{return Ue}}const Xt=[{symbol:"@@__IMMUTABLE_INDEXED__@@",name:"Indexed",modifier:!0},{symbol:"@@__IMMUTABLE_KEYED__@@",name:"Keyed",modifier:!0},{symbol:"@@__IMMUTABLE_LIST__@@",name:"List",arrayish:!0},{symbol:"@@__IMMUTABLE_MAP__@@",name:"Map"},{symbol:"@@__IMMUTABLE_ORDERED__@@",name:"Ordered",modifier:!0,prefix:!0},{symbol:"@@__IMMUTABLE_RECORD__@@",name:"Record"},{symbol:"@@__IMMUTABLE_SET__@@",name:"Set",arrayish:!0,setish:!0},{symbol:"@@__IMMUTABLE_STACK__@@",name:"Stack",arrayish:!0}];function ze(e){try{let t=Xt.filter(({symbol:s})=>e[s]===!0);if(!t.length)return;const n=t.find(s=>!s.modifier),r=n.name==="Map"&&t.find(s=>s.modifier&&s.prefix),i=t.some(s=>s.arrayish),o=t.some(s=>s.setish);return{name:`${r?r.name:""}${n.name}`,symbols:t,arrayish:i&&!o,setish:o}}catch{return null}}const{getPrototypeOf:he,getOwnPropertyDescriptors:Qt}=Object,Ve=he({});function Be(e,t,n,r){let i=Re(e),o,s,a,c;e instanceof Map?e instanceof e.constructor?(o=`Map(${e.size})`,s=en):(o="Map()",s=U):e instanceof Set?e instanceof e.constructor?(o=`Set(${e.size})`,s=tn):(o="Set()",s=U):i?(o=`${e.constructor.name}(${e.length})`,s=rn):(c=ze(e))?(o=`Immutable.${c.name}${c.name==="Record"?"":`(${e.size})`}`,i=c.arrayish,s=c.arrayish?on:c.setish?nn:an):r?(o=ue(e),s=sn):(o=ue(e),s=U);const l=document.createElement("span");l.className="observablehq--expanded",n&&l.appendChild($(n));const u=l.appendChild(document.createElement("a"));u.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M4 7L0 1h8z' fill='currentColor' />
  </svg>`,u.appendChild(document.createTextNode(`${o}${i?" [":" {"}`)),u.addEventListener("mouseup",function(d){d.stopPropagation(),te(l,_e(e,null,n,r))}),s=s(e);for(let d=0;!(a=s.next()).done&&d<20;++d)l.appendChild(a.value);if(!a.done){const d=l.appendChild(document.createElement("a"));d.className="observablehq--field",d.style.display="block",d.appendChild(document.createTextNode("  … more")),d.addEventListener("mouseup",function(y){y.stopPropagation(),l.insertBefore(a.value,l.lastChild.previousSibling);for(let m=0;!(a=s.next()).done&&m<19;++m)l.insertBefore(a.value,l.lastChild.previousSibling);a.done&&l.removeChild(l.lastChild.previousSibling),Q(l,"load")})}return l.appendChild(document.createTextNode(i?"]":"}")),l}function*en(e){for(const[t,n]of e)yield ln(t,n);yield*U(e)}function*tn(e){for(const t of e)yield He(t);yield*U(e)}function*nn(e){for(const t of e)yield He(t)}function*rn(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield S(t,E(e,t),"observablehq--index"));for(const t in e)!Fe(t)&&ie(e,t)&&(yield S(t,E(e,t),"observablehq--key"));for(const t of H(e))yield S(q(t),E(e,t),"observablehq--symbol")}function*on(e){let t=0;for(const n=e.size;t<n;++t)yield S(t,e.get(t),!0)}function*sn(e){for(const n in Qt(e))yield S(n,E(e,n),"observablehq--key");for(const n of H(e))yield S(q(n),E(e,n),"observablehq--symbol");const t=he(e);t&&t!==Ve&&(yield Ye(t))}function*U(e){for(const n in e)ie(e,n)&&(yield S(n,E(e,n),"observablehq--key"));for(const n of H(e))yield S(q(n),E(e,n),"observablehq--symbol");const t=he(e);t&&t!==Ve&&(yield Ye(t))}function*an(e){for(const[t,n]of e)yield S(t,n,"observablehq--key")}function Ye(e){const t=document.createElement("div"),n=t.appendChild(document.createElement("span"));return t.className="observablehq--field",n.className="observablehq--prototype-key",n.textContent="  <prototype>",t.appendChild(document.createTextNode(": ")),t.appendChild(w(e,void 0,void 0,void 0,!0)),t}function S(e,t,n){const r=document.createElement("div"),i=r.appendChild(document.createElement("span"));return r.className="observablehq--field",i.className=n,i.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(w(t)),r}function ln(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(w(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(w(t)),n}function He(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(w(e)),t}function Te(e){const t=window.getSelection();return t.type==="Range"&&(t.containsNode(e,!0)||e.contains(t.anchorNode)||e.contains(t.focusNode))}function _e(e,t,n,r){let i=Re(e),o,s,a,c;if(e instanceof Map?e instanceof e.constructor?(o=`Map(${e.size})`,s=cn):(o="Map()",s=z):e instanceof Set?e instanceof e.constructor?(o=`Set(${e.size})`,s=un):(o="Set()",s=z):i?(o=`${e.constructor.name}(${e.length})`,s=pn):(c=ze(e))?(o=`Immutable.${c.name}${c.name==="Record"?"":`(${e.size})`}`,i=c.arrayish,s=c.arrayish?fn:c.setish?dn:mn):(o=ue(e),s=z),t){const d=document.createElement("span");return d.className="observablehq--shallow",n&&d.appendChild($(n)),d.appendChild(document.createTextNode(o)),d.addEventListener("mouseup",function(y){Te(d)||(y.stopPropagation(),te(d,_e(e)))}),d}const l=document.createElement("span");l.className="observablehq--collapsed",n&&l.appendChild($(n));const u=l.appendChild(document.createElement("a"));u.innerHTML=`<svg width=8 height=8 class='observablehq--caret'>
    <path d='M7 4L1 8V0z' fill='currentColor' />
  </svg>`,u.appendChild(document.createTextNode(`${o}${i?" [":" {"}`)),l.addEventListener("mouseup",function(d){Te(l)||(d.stopPropagation(),te(l,Be(e,null,n,r)))},!0),s=s(e);for(let d=0;!(a=s.next()).done&&d<20;++d)d>0&&l.appendChild(document.createTextNode(", ")),l.appendChild(a.value);return a.done||l.appendChild(document.createTextNode(", …")),l.appendChild(document.createTextNode(i?"]":"}")),l}function*cn(e){for(const[t,n]of e)yield hn(t,n);yield*z(e)}function*un(e){for(const t of e)yield w(t,!0);yield*z(e)}function*dn(e){for(const t of e)yield w(t,!0)}function*fn(e){let t=-1,n=0;for(const r=e.size;n<r;++n)n>t+1&&(yield ee(n-t-1)),yield w(e.get(n),!0),t=n;n>t+1&&(yield ee(n-t-1))}function*pn(e){let t=-1,n=0;for(const r=e.length;n<r;++n)n in e&&(n>t+1&&(yield ee(n-t-1)),yield w(E(e,n),!0),t=n);n>t+1&&(yield ee(n-t-1));for(const r in e)!Fe(r)&&ie(e,r)&&(yield B(r,E(e,r),"observablehq--key"));for(const r of H(e))yield B(q(r),E(e,r),"observablehq--symbol")}function*z(e){for(const t in e)ie(e,t)&&(yield B(t,E(e,t),"observablehq--key"));for(const t of H(e))yield B(q(t),E(e,t),"observablehq--symbol")}function*mn(e){for(const[t,n]of e)yield B(t,n,"observablehq--key")}function ee(e){const t=document.createElement("span");return t.className="observablehq--empty",t.textContent=e===1?"empty":`empty × ${e}`,t}function B(e,t,n){const r=document.createDocumentFragment(),i=r.appendChild(document.createElement("span"));return i.className=n,i.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(w(t,!0)),r}function hn(e,t){const n=document.createDocumentFragment();return n.appendChild(w(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(w(t,!0)),n}function _n(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${yn(e.getUTCFullYear())}-${P(e.getUTCMonth()+1,2)}-${P(e.getUTCDate(),2)}${n||r||i||o?`T${P(n,2)}:${P(r,2)}${i||o?`:${P(i,2)}${o?`.${P(o,3)}`:""}`:""}Z`:""}`}function yn(e){return e<0?`-${P(-e,6)}`:e>9999?`+${P(e,6)}`:P(e,4)}function P(e,t){return`${e}`.padStart(t,"0")}function bn(e){return _n(e,"Invalid Date")}var vn=Error.prototype.toString;function gn(e){return e.stack||vn.call(e)}var wn=RegExp.prototype.toString;function En(e){return wn.call(e)}const ae=20;function xn(e,t,n,r){if(t===!1){if(Se(e,/["\n]/g)<=Se(e,/`|\${/g)){const l=document.createElement("span");r&&l.appendChild($(r));const u=l.appendChild(document.createElement("span"));return u.className="observablehq--string",u.textContent=JSON.stringify(e),l}const s=e.split(`
`);if(s.length>ae&&!n){const l=document.createElement("div");r&&l.appendChild($(r));const u=l.appendChild(document.createElement("span"));u.className="observablehq--string",u.textContent="`"+Oe(s.slice(0,ae).join(`
`));const d=l.appendChild(document.createElement("span")),y=s.length-ae;return d.textContent=`Show ${y} truncated line${y>1?"s":""}`,d.className="observablehq--string-expand",d.addEventListener("mouseup",function(m){m.stopPropagation(),te(l,w(e,t,!0,r))}),l}const a=document.createElement("span");r&&a.appendChild($(r));const c=a.appendChild(document.createElement("span"));return c.className=`observablehq--string${n?" observablehq--expanded":""}`,c.textContent="`"+Oe(e)+"`",a}const i=document.createElement("span");r&&i.appendChild($(r));const o=i.appendChild(document.createElement("span"));return o.className="observablehq--string",o.textContent=JSON.stringify(e.length>100?`${e.slice(0,50)}…${e.slice(-49)}`:e),i}function Oe(e){return e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,Cn)}function Cn(e){var t=e.charCodeAt(0);switch(t){case 8:return"\\b";case 9:return"\\t";case 11:return"\\v";case 12:return"\\f";case 13:return"\\r"}return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function Se(e,t){for(var n=0;t.exec(e);)++n;return n}var $n=Function.prototype.toString,Pn={prefix:"async ƒ"},Tn={prefix:"async ƒ*"},Ie={prefix:"class"},On={prefix:"ƒ"},Sn={prefix:"ƒ*"};function In(e,t){var n,r,i=$n.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":n=Pn;break;case"AsyncGeneratorFunction":n=Tn;break;case"GeneratorFunction":n=Sn;break;default:n=/^class\b/.test(i)?Ie:On;break}return n===Ie?F(n,"",t):(r=/^(?:async\s*)?(\w+)\s*=>/.exec(i))?F(n,"("+r[1]+")",t):(r=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?F(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):(r=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(i))?F(n,r[1]?"("+r[1].replace(/\s*,\s*/g,", ")+")":"()",t):F(n,"(…)",t)}function F(e,t,n){var r=document.createElement("span");r.className="observablehq--function",n&&r.appendChild($(n));var i=r.appendChild(document.createElement("span"));return i.className="observablehq--keyword",i.textContent=e.prefix,r.appendChild(document.createTextNode(t)),r}const{prototype:{toString:An}}=Object;function w(e,t,n,r,i){let o=typeof e;switch(o){case"boolean":case"undefined":{e+="";break}case"number":{e=e===0&&1/e<0?"-0":e+"";break}case"bigint":{e=e+"n";break}case"symbol":{e=q(e);break}case"function":return In(e,r);case"string":return xn(e,t,n,r);default:{if(e===null){o=null,e="null";break}if(e instanceof Date){o="date",e=bn(e);break}if(e===Ue){o="forbidden",e="[forbidden]";break}switch(An.call(e)){case"[object RegExp]":{o="regexp",e=En(e);break}case"[object Error]":case"[object DOMException]":{o="error",e=gn(e);break}default:return(n?Be:_e)(e,t,r,i)}break}}const s=document.createElement("span");r&&s.appendChild($(r));const a=s.appendChild(document.createElement("span"));return a.className=`observablehq--${o}`,a.textContent=e,s}function te(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),Q(t,"load")}const Ln=/\s+\(\d+:\d+\)$/m;class ne{constructor(t){if(!t)throw new Error("invalid node");this._node=t,t.classList.add("observablehq")}pending(){const{_node:t}=this;t.classList.remove("observablehq--error"),t.classList.add("observablehq--running")}fulfilled(t,n){const{_node:r}=this;if((!Nn(t)||t.parentNode&&t.parentNode!==r)&&(t=w(t,!1,r.firstChild&&r.firstChild.classList&&r.firstChild.classList.contains("observablehq--expanded"),n),t.classList.add("observablehq--inspect")),r.classList.remove("observablehq--running","observablehq--error"),r.firstChild!==t)if(r.firstChild){for(;r.lastChild!==r.firstChild;)r.removeChild(r.lastChild);r.replaceChild(t,r.firstChild)}else r.appendChild(t);Q(r,"update")}rejected(t,n){const{_node:r}=this;for(r.classList.remove("observablehq--running"),r.classList.add("observablehq--error");r.lastChild;)r.removeChild(r.lastChild);var i=document.createElement("div");i.className="observablehq--inspect",n&&i.appendChild($(n)),i.appendChild(document.createTextNode((t+"").replace(Ln,""))),r.appendChild(i),Q(r,"error",{error:t})}}ne.into=function(e){if(typeof e=="string"&&(e=document.querySelector(e),e==null))throw new Error("container not found");return function(){return new ne(e.appendChild(document.createElement("div")))}};function Nn(e){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor}function kn(e,t){const n=document.createElement("div");if(new ne(n).fulfilled(e),t)for(const r of t){let i=n;for(const o of r)i=i?.childNodes[o];i?.dispatchEvent(new Event("mouseup"))}return n}function Dn(e){const t=document.createElement("div");return new ne(t).rejected(e),t}function Mn(e){if(!qn(e))return;const t=e.querySelectorAll(".observablehq--expanded");if(t.length)return Array.from(t,n=>Rn(e,n))}function jn(e){return e.nodeType===1}function qn(e){return jn(e)&&e.classList.contains("observablehq")}function Rn(e,t){const n=[];for(;t!==e;)n.push(Fn(t)),t=t.parentNode;return n.reverse()}function Fn(e){return Array.prototype.indexOf.call(e.parentNode.childNodes,e)}const Un=["audio source[src]","audio[src]","img[src]","picture source[src]","video source[src]","video[src]"].join(),zn=["img[srcset]","picture source[srcset]"].join(),Vn=["a[href][download]","link[href]"].join(),Bn=[[Un,"src"],[zn,"srcset"],[Vn,"href"]];function Yn(e,t){const n=r=>t.get(Wn(r))??r;for(const[r,i]of Bn)for(const o of e.querySelectorAll(r)){if(Hn(o))continue;const s=decodeURI(o.getAttribute(i));i==="srcset"?o.setAttribute(i,Kn(s,n)):o.setAttribute(i,n(s))}}function Hn(e){return/(?:^|\s)external(?:\s|$)/i.test(e.getAttribute("rel")??"")}function Gn(e){const t=e.indexOf("?"),n=e.indexOf("#"),r=t>=0&&n>=0?Math.min(t,n):t>=0?t:n;return r>=0?e.slice(0,r):e}function Wn(e){const t=Gn(e);return Jn(t)?t:`./${t}`}function Jn(e){return["./","../","/"].some(t=>e.startsWith(t))}function Kn(e,t){return e.trim().split(/\s*,\s*/).filter(n=>n).map(n=>{const r=n.split(/\s+/),i=t(r[0]);return i&&(r[0]=encodeURI(i)),r.join(" ")}).join(", ")}function Ge(e,t){const{root:n,expanded:r}=e,i=Xn(t,n)?t:kn(t,r[n.childNodes.length]);We(e,i)}function We(e,t){if(t.nodeType===11){let n;for(;n=t.firstChild;)e.root.appendChild(n)}else e.root.appendChild(t)}function Zn(e,t){We(e,Dn(t))}function Xn(e,t){return(e instanceof Element||e instanceof Text)&&e instanceof e.constructor&&(!e.parentNode||t.contains(e))}function M(e){for(e.autoclear=!1,e.expanded=Array.from(e.root.childNodes,Mn);e.root.lastChild;)e.root.lastChild.remove()}function Qn(e,{autodisplay:t,assets:n}){return{_error:!1,_node:e.root,pending(){this._error&&(this._error=!1,M(e))},fulfilled(r){t?(n&&r instanceof Element&&Yn(r,n),M(e),Ge(e,r)):e.autoclear&&M(e)},rejected(r){console.error(r),this._error=!0,M(e),Zn(e,r)}}}async function*oe(e){let t,n,r=!1;const i=e(o=>(n=o,t?(t(o),t=void 0):r=!0,o));if(i!=null&&typeof i!="function")throw new Error(typeof i=="object"&&"then"in i&&typeof i.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");try{for(;;)yield r?(r=!1,n):new Promise(o=>t=o)}finally{i?.()}}function de(e){return oe(t=>{const n=er(e),r=Ae(e),i=()=>t(Ae(e));return e.addEventListener(n,i),r!==void 0&&t(r),()=>e.removeEventListener(n,i)})}function Ae(e){const t=e,n=e;if("type"in e)switch(e.type){case"range":case"number":return t.valueAsNumber;case"date":return t.valueAsDate;case"checkbox":return t.checked;case"file":return t.multiple?t.files:t.files[0];case"select-multiple":return Array.from(n.selectedOptions,r=>r.value)}return t.value}function er(e){if("type"in e)switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change"}return"input"}async function*Je(){for(;;)yield Date.now()}async function*tr(e){let t;const n=[],r=e(i=>(n.push(i),t&&(t(n.shift()),t=void 0),i));if(r!=null&&typeof r!="function")throw new Error(typeof r=="object"&&"then"in r&&typeof r.then=="function"?"async initializers are not supported":"initializer returned something, but not a dispose function");try{for(;;)yield n.length?n.shift():new Promise(i=>t=i)}finally{r?.()}}function Ke(e,t){return oe(n=>{let r;const i=new ResizeObserver(([o])=>{const s=o.contentRect.width;s!==r&&n(r=s)});return i.observe(e,t),()=>i.disconnect()})}const nr=Object.freeze(Object.defineProperty({__proto__:null,input:de,now:Je,observe:oe,queue:tr,width:Ke},Symbol.toStringTag,{value:"Module"}));function Ze(e){let t;return Object.defineProperty(oe(n=>{t=n,e!==void 0&&t(e)}),"value",{get:()=>e,set:n=>(e=n,void t?.(e))})}function rr(e){const t=Ze(e);return[t,{get value(){return t.value},set value(n){t.value=n}}]}function ir(e,t,n,r=Qn){const{id:i,body:o,inputs:s=[],outputs:a=[],output:c,autodisplay:l,autoview:u,automutable:d}=n,y=t.variables,m=e.variable(r(t,n),{shadow:{}}),b=c??(a.length?`cell ${i}`:null);if(t.autoclear=!0,s.includes("display")||s.includes("view")){let f=-1;const g=new m.constructor(2,m._module);if(g.define(s.filter(p=>p!=="display"&&p!=="view"),()=>{const p=m._version;return A=>{if(p<f)throw new Error("stale display");if(t.variables[0]!==m)throw new Error("stale display");return p>f&&M(t),f=p,Ge(t,A),A}}),m._shadow.set("display",g),s.includes("view")){const p=new m.constructor(2,m._module,null,{shadow:{}});p._shadow.set("display",g),p.define(["display"],A=>v=>de(A(v))),m._shadow.set("view",p)}}else l||M(t);if(y.push(m.define(b,s,o)),c!=null){if(u){const f=Le(c,"viewof$");y.push(e.define(f,[c],de))}else if(d){const f=Le(c,"mutable "),g=`cell ${i}`;m.define(f,[g],([p])=>p),y.push(e.define(c,s,o),e.define(g,[c],rr),e.define(`mutable$${f}`,[g],([,p])=>p))}}else for(const f of a)y.push(e.variable(!0).define(f,[b],g=>g[f]))}function Le(e,t){if(!e.startsWith(t))throw new Error(`expected ${t}: ${e}`);return e.slice(t.length)}const or="modulepreload",sr=function(e,t){return new URL(e,t).href},Ne={},_=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=l(n.map(u=>{if(u=sr(u,r),u in Ne)return;Ne[u]=!0;const d=u.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(r)for(let b=s.length-1;b>=0;b--){const f=s[b];if(f.href===u&&(!d||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${y}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":or,d||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((b,f)=>{m.addEventListener("load",b),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},ke=new Map,ye=(e,t=document.baseURI)=>{const n=new URL(e,t).href;let r=ke.get(n);return r||(r=new j(n,e.split("/").pop()),ke.set(n,r)),r};async function D(e){const t=await fetch(e.href);if(!t.ok)throw new Error(`Unable to load file: ${e.name}`);return t}class ar{constructor(t,n=lr(t),r,i){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mimeType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lastModified",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperties(this,{name:{value:`${t}`,enumerable:!0},mimeType:{value:`${n}`,enumerable:!0},lastModified:{value:r===void 0?void 0:+r,enumerable:!0},size:{value:i===void 0?void 0:+i,enumerable:!0}})}async url(){return this.href}async blob(){return(await D(this)).blob()}async arrayBuffer(){return(await D(this)).arrayBuffer()}async text(t){return t===void 0?(await D(this)).text():new TextDecoder(t).decode(await this.arrayBuffer())}async json(){return(await D(this)).json()}async stream(){return(await D(this)).body}async dsv({delimiter:t=",",array:n=!1,typed:r=!1}={}){const[i,o]=await Promise.all([this.text(),_(()=>import("https://cdn.jsdelivr.net/npm/d3-dsv/+esm"),[],import.meta.url)]),s=o.dsvFormat(t);return(n?s.parseRows:s.parse)(i,r&&o.autoType)}async csv(t){return this.dsv({...t,delimiter:","})}async tsv(t){return this.dsv({...t,delimiter:"	"})}async image(t){const n=await this.url();return new Promise((r,i)=>{const o=new Image;new URL(n,document.baseURI).origin!==location.origin&&(o.crossOrigin="anonymous"),Object.assign(o,t),o.onload=()=>r(o),o.onerror=()=>i(new Error(`Unable to load file: ${this.name}`)),o.src=n})}async arrow(){const[t,n]=await Promise.all([_(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow@17.0.0/+esm"),[],import.meta.url),D(this)]);return t.tableFromIPC(n)}async arquero(t){let n,r;switch(this.mimeType){case"application/json":n=this.text(),r="fromJSON";break;case"text/tab-separated-values":t?.delimiter===void 0&&(t={...t,delimiter:"	"});case"text/csv":n=this.text(),r="fromCSV";break;default:if(/\.arrow$/i.test(this.name))n=this.arrow(),r="fromArrow";else if(/\.parquet$/i.test(this.name))n=this.parquet(),r="fromArrow";else throw new Error(`unable to determine Arquero loader: ${this.name}`);break}const[i,o]=await Promise.all([_(()=>import("https://cdn.jsdelivr.net/npm/arquero/+esm"),[],import.meta.url),n]);return i[r](o,t)}async parquet(){const[t,n,r]=await Promise.all([_(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow@17.0.0/+esm"),[],import.meta.url),_(()=>import("https://cdn.jsdelivr.net/npm/parquet-wasm/+esm"),[],import.meta.url).then(async i=>(await i.default("https://cdn.jsdelivr.net/npm/parquet-wasm/esm/parquet_wasm_bg.wasm"),i)),this.arrayBuffer()]);return t.tableFromIPC(n.readParquet(new Uint8Array(r)).intoIPCStream())}async xml(t="application/xml"){return new DOMParser().parseFromString(await this.text(),t)}async html(){return this.xml("text/html")}}function lr(e){const t=e.lastIndexOf("."),n=e.lastIndexOf("/");switch(t>0&&(n<0||t>n)?e.slice(t).toLowerCase():""){case".csv":return"text/csv";case".tsv":return"text/tab-separated-values";case".json":return"application/json";case".html":return"text/html";case".xml":return"application/xml";case".png":return"image/png";case".jpg":return"image/jpg";case".js":return"text/javascript";default:return"application/octet-stream"}}class j extends ar{constructor(t,n,r,i,o){super(n,r,i,o),Object.defineProperty(this,"href",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"href",{value:t})}}Object.defineProperty(j,"name",{value:"FileAttachment"});ye.prototype=j.prototype;function cr(e){function t(n){const r=e(n+="");if(r==null)throw new Error(`File not found: ${n}`);if(typeof r=="object"&&"url"in r){const{url:i,mimeType:o}=r;return new j(i,n,o)}return new j(r,n)}return t.prototype=j.prototype,t}function ur(e,{length:t=50,fallback:n="untitled",separator:r="-"}={}){const i=e.normalize("NFD").replace(/[\u0300-\u036f'‘’]/g,"").toLowerCase().split(/\W+/g).filter(dr);let o=-1;for(let s=0,a=i.length;++o<a;)if((s+=i[o].length)+o>t){i[o]=i[o].substring(0,t-s+i[o].length-o);break}return i.slice(0,o+1).filter(Boolean).join(r)||n.slice(0,t)}function dr(e){return e.length>0}async function be(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t);return new Uint8Array(n).reduce((r,i)=>r<<8n|BigInt(i),0n)}function ve(e,t){return e.toString(36).padStart(t,"0").slice(0,t)}async function fr(e,...t){return ve(await be(JSON.stringify([e,...t])),16)}async function pr(e){return ve(await be(e),16)}async function Xe(e){return/^[\w-]+$/.test(e)?e:`${ur(mr(e))}.${ve(await be(e),8)}`}function mr(e){return e.replace(/^.*\//,"")}const ge=(e,t)=>new we(e,hr(t));function hr({id:e,since:t}={}){const n={};return e!==void 0&&(n.id=e),t!==void 0&&(n.since=new Date(t)),n}class we{constructor(t,n){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperties(this,{name:{value:t,enumerable:!0},options:{value:n,enumerable:!0}})}async sql(t,...n){const r=await this.cachePath(t,...n),i=await fetch(r);if(!i.ok)throw new Error(`failed to fetch: ${r}`);return await i.json().then(Qe)}async cachePath(t,...n){return`.observable/cache/${await Xe(this.name)}-${await fr(t,...n)}.json`}}function Qe({rows:e,schema:t,date:n,...r}){for(const i of t)switch(i.type){case"bigint":{const{name:o}=i;for(const s of e){const a=s[o];a!=null&&(s[o]=Number(a))}break}case"date":{const{name:o}=i;for(const s of e){const a=s[o];a!=null&&(s[o]=_r(a))}break}}return n!=null&&(n=new Date(n)),Object.assign(e,{schema:t,date:n},r)}function _r(e){return new Date(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}(?::\d{2})?$/.test(e)?e+"Z":e)}ge.revive=Qe;ge.prototype=we.prototype;Object.defineProperty(we,"name",{value:"DatabaseClient"});function yr(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}function br(e,t,n=devicePixelRatio){const r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=`${e}px`;const i=r.getContext("2d");return i.scale(n,n),i}function vr(e,t){const n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",`0 0 ${e} ${t}`),n.setAttribute("width",`${e}`),n.setAttribute("height",`${t}`),n}function gr(e){return document.createTextNode(e)}let wr=0;function Er(e){return new xr(`O-${e==null?"":`${e}-`}${++wr}`)}class xr{constructor(t){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"href",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.id=t,this.href=new URL(`#${t}`,location.href).href}toString(){return`url(${this.href})`}}const Cr=Object.freeze(Object.defineProperty({__proto__:null,canvas:yr,context2d:br,svg:vr,text:gr,uid:Er},Symbol.toStringTag,{value:"Module"}));function $r(e){switch(e){case"html":case"text":return".txt";case"jpeg":return".jpg";case"json":case"arrow":case"parquet":case"csv":case"tsv":case"png":case"gif":case"svg":case"webp":case"xml":return`.${e}`;default:return".bin"}}const et=(e,t)=>new Ee(e,Pr(t));function Pr({format:e="buffer",id:t,since:n}={}){const r={format:e};return t!==void 0&&(r.id=t),n!==void 0&&(r.since=new Date(n)),r}class Ee{constructor(t,n){Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperties(this,{name:{value:t,enumerable:!0},options:{value:n,enumerable:!0}})}async run(t){return ye(await this.cachePath(t))}async cachePath(t){const{format:n}=this.options;return`.observable/cache/${await Xe(this.name)}-${await pr(t)}${$r(n)}`}}et.prototype=Ee.prototype;Object.defineProperty(Ee,"name",{value:"Interpreter"});var Tr=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Or=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},K;class Sr{constructor(){K.set(this,void 0),Object.defineProperty(this,"fulfilled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"rejected",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.next()}async next(){const t=await Tr(this,K,"f");return Or(this,K,new Promise((n,r)=>(this.fulfilled=n,this.rejected=r)),"f"),{done:!1,value:t}}throw(){return{done:!0}}return(){return{done:!0}}}K=new WeakMap;const Ir=()=>_(()=>import("https://cdn.jsdelivr.net/npm/lodash/+esm"),[],import.meta.url).then(e=>e.default),Ar=()=>_(()=>import("https://cdn.jsdelivr.net/npm/arquero/+esm"),[],import.meta.url),Lr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/apache-arrow@17.0.0/+esm"),[],import.meta.url),Nr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/d3/+esm"),[],import.meta.url),kr=()=>_(()=>import("./dot-DSyh6hFx.js"),[],import.meta.url).then(e=>e.dot),Dr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/@duckdb/duckdb-wasm@1.29.0/+esm"),[],import.meta.url),Mr=()=>_(()=>import("./duckdb-b2k7KqJl.js"),[],import.meta.url).then(e=>e.DuckDBClient),jr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/echarts/dist/echarts.esm.min.js/+esm"),[],import.meta.url),qr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url),Rr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url).then(e=>e.html),Fr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/htl/+esm"),[],import.meta.url).then(e=>e.svg),Ur=()=>_(()=>import("./inputs-DoHVubAa.js"),__vite__mapDeps([0,1]),import.meta.url),zr=()=>_(()=>import("./leaflet-D54mqpIu.js"),[],import.meta.url),Vr=()=>_(()=>import("./mapboxgl-C94UFoDx.js"),[],import.meta.url).then(e=>e.default),Br=()=>_(()=>import("./md-Bpg-mpdN.js"),[],import.meta.url).then(e=>e.md),Yr=()=>_(()=>import("./mermaid-BMsol7BT.js"),[],import.meta.url).then(e=>e.mermaid),Hr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/@observablehq/plot/+esm"),[],import.meta.url),Gr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/react/+esm"),[],import.meta.url),Wr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/react-dom/client/+esm"),[],import.meta.url),Jr=()=>_(()=>import("./tex-BE43Lb2g.js"),[],import.meta.url).then(e=>e.tex),Kr=()=>_(()=>import("https://cdn.jsdelivr.net/npm/topojson-client/+esm"),[],import.meta.url),Zr=()=>_(()=>import("./vega-lite-ClQwpDTB.js"),[],import.meta.url).then(e=>e.vl),Xr=Object.freeze(Object.defineProperty({__proto__:null,Arrow:Lr,DuckDBClient:Mr,Inputs:Ur,L:zr,Plot:Hr,React:Gr,ReactDOM:Wr,_:Ir,aq:Ar,d3:Nr,dot:kr,duckdb:Dr,echarts:jr,htl:qr,html:Rr,mapboxgl:Vr,md:Br,mermaid:Yr,svg:Fr,tex:Jr,topojson:Kr,vl:Zr},Symbol.toStringTag,{value:"Module"}));xe.resolve=tt;function xe(...e){return e.length===1?import(tt(e[0])):Promise.all(e.map(t=>xe(t))).then(t=>Object.assign({},...t))}function Qr(e){const t=e.split("/"),n=e.startsWith("@")?[t.shift(),t.shift()].join("/"):t.shift(),r=n.indexOf("@",1),i=r>0?n.slice(0,r):n,o=r>0?n.slice(r):"",s=t.length>0?`/${t.join("/")}`:"";return{name:i,range:o,path:s}}function tt(e){const t=String(e);if(ei(t)||ti(t))return t;const{name:n,range:r,path:i}=Qr(t);return`https://cdn.jsdelivr.net/npm/${n}${r}${i+(ni(i)||ri(i)?"":"/+esm")}`}function ei(e){return/^\w+:/.test(e)}function ti(e){return/^(\.\/|\.\.\/|\/)/.test(e)}function ni(e){return/(\.\w*)$/.test(e)}function ri(e){return/(\/)$/.test(e)}const ii=()=>C(x("aapl.csv")),oi=()=>C(x("alphabet.csv")),si=()=>C(x("cars.csv")),ai=()=>C(x("citywages.csv")),li=()=>C(x("diamonds.csv")),ci=()=>C(x("flare.csv")),ui=()=>C(x("industries.csv")),di=()=>_i(x("miserables.json")),fi=()=>C(x("olympians.csv")),pi=()=>C(x("penguins.csv")),mi=()=>C(x("pizza.csv")),hi=()=>C(x("weather.csv"));function x(e){return`https://cdn.jsdelivr.net/npm/@observablehq/sample-datasets/${e}`}async function _i(e){const t=await fetch(e);if(!t.ok)throw new Error(`unable to fetch ${e}: status ${t.status}`);return t.json()}async function yi(e){const t=await fetch(e);if(!t.ok)throw new Error(`unable to fetch ${e}: status ${t.status}`);return t.text()}async function C(e,t){const[n,r]=await Promise.all([yi(e),_(()=>import("https://cdn.jsdelivr.net/npm/d3-dsv/+esm"),[],import.meta.url)]);return r.csvParse(n,r.autoType)}const bi=Object.freeze(Object.defineProperty({__proto__:null,aapl:ii,alphabet:oi,cars:si,citywages:ai,diamonds:li,flare:ci,industries:ui,miserables:di,olympians:fi,penguins:pi,pizza:mi,weather:hi},Symbol.toStringTag,{value:"Module"})),vi=document.querySelector("main")??document.body,gi={now:()=>Je(),width:()=>Ke(vi),DatabaseClient:()=>ge,FileAttachment:()=>ye,Generators:()=>nr,Interpreter:()=>et,Mutable:()=>Ze,DOM:()=>Cr,require:()=>xe,__ojs_observer:()=>()=>new Sr,...Xr,...bi};class wi{constructor(t=gi){Object.defineProperty(this,"runtime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"main",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const n=new qe({...t,__ojs_runtime:()=>n});this.runtime=Object.assign(n,{fileAttachments:cr}),this.main=n.module()}define(t,n,r){ir(this.main,t,n,r)}}const re=new wi;re.runtime;const Ei=re.main,G=re.define.bind(re);Ei.constructor.prototype.defines=function(e){return this._scope.has(e)||this._builtins.has(e)||this._runtime._builtin._scope.has(e)};G({root:document.getElementById("cell-2"),expanded:[],variables:[]},{id:2,body:(e,t)=>e(new URL(".observable/cache/data-duckdb.3ad30mgx-2qfudaxj339oo26d.json",import.meta.url).href).json().then(t.revive),inputs:["FileAttachment","DatabaseClient"],outputs:[],output:"plumes",assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});G({root:document.getElementById("cell-3"),expanded:[],variables:[]},{id:3,body:(e,t)=>e(new URL(".observable/cache/data-duckdb.3ad30mgx-4xyvit9yozifu77l.json",import.meta.url).href).json().then(t.revive),inputs:["FileAttachment","DatabaseClient"],outputs:[],output:"infrastructure",assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});G({root:document.getElementById("cell-4"),expanded:[],variables:[]},{id:4,body:(e,t,n)=>{const r=document.createElement("style");r.textContent=`
  .card-details {
opacity: 0.7;
font-size: 0.9em;
text-align: right;
margin-left: auto;
  }

  .search-container {
margin-bottom: 1.5rem;
  }

  .search-input {
width: 100%;
max-width: 400px;
padding: 0.5rem 0.75rem;
font-size: 1rem;
border: 1px solid #666;
border-radius: 4px;
background: #1a1a1a;
color: #fff;
  }

  .search-input::placeholder {
color: #888;
  }

  @media (max-width: 768px) {
.card-details {
  margin-left: 0 !important;
  text-align: left !important;
  flex-basis: 100% !important;
}
  }
`,document.head.appendChild(r);const i=document.createElement("div"),o=document.createElement("div");o.className="search-container";const s=document.createElement("input");s.type="text",s.className="search-input",s.placeholder="Search operator...",o.appendChild(s),i.appendChild(o);const a=document.createElement("hr");a.style.marginBottom="1.5rem",i.appendChild(a);const c=document.createElement("div");i.appendChild(c);let l=null,u=[...e];const d=()=>{const y=s.value.trim().toLowerCase();let m=u;if(y&&(m=u.filter(b=>(b.operator||"").toLowerCase().includes(y))),c.innerHTML="",l=null,m.length===0){c.innerHTML='<p style="opacity: 0.7;">No matching plumes found</p>';return}for(let b=0;b<m.length;b++){const f=m[b],g=`card-${b}`,p=`map-${b}`,A=`details-${b}`,v=document.createElement("div");v.id=g,v.style.marginBottom="0.5rem";const h=document.createElement("div");h.style.cursor="pointer",h.onclick=()=>{const R=document.getElementById(`expanded-${b}`);if(l===b)R.style.display="none",l=null;else{l!==null&&(document.getElementById(`expanded-${l}`).style.display="none"),R.style.display="grid",l=b;const $e=document.getElementById(p);$e.dataset.loaded||(t(b,f),$e.dataset.loaded="true")}};const k=f.datetime?new Date(f.datetime).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A";h.style.display="flex",h.style.flexWrap="wrap",h.style.alignItems="baseline",h.style.gap="0.75rem",h.innerHTML=`
  <h3 style="margin: 0; font-size: 1rem; font-weight: 600;">
    ${f.operator||"Unknown Operator"}
  </h3>
  <div class="card-details">
    ${k} / ${f.nearest_facility_type||"Unknown"} / ${(f.distance_to_nearest_facility_km*1e3).toFixed(0)||"N/A"} m / ${f.rate_kg_hr?.toFixed(1)||"N/A"} kg/hr
  </div>
`;const L=document.createElement("div");L.id=`expanded-${b}`,L.style.cssText=`
  display: none;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 20px;
  margin-top: 1.5rem;
  align-items: start;
`;const W=document.createElement("div");W.id=A;const nt=R=>R?new Date(R).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A";W.innerHTML=`
  <table style="width: 100%; border-collapse: collapse; margin-bottom: 1.5rem;">
    <tr>
      <td style="padding: 0.5rem 1rem 0.5rem 0; vertical-align: top;"><strong>plume id</strong></td>
      <td style="padding: 0.5rem 0;"><code style="font-size: 0.85em;"><a href="https://data.carbonmapper.org/?plume_id=${f.id}" target="_blank" style="color: inherit; text-decoration: underline;">${f.id}</a></code></td>
    </tr>
    <tr>
      <td style="padding: 0.5rem 1rem 0.5rem 0; vertical-align: top;"><strong>operator</strong></td>
      <td style="padding: 0.5rem 0;">${f.operator||"Unknown"}</td>
    </tr>
    <tr>
      <td style="padding: 0.5rem 1rem 0.5rem 0; vertical-align: top;"><strong>facility type</strong></td>
      <td style="padding: 0.5rem 0;">${f.nearest_facility_type||"Unknown"}</td>
    </tr>
    <tr>
      <td style="padding: 0.5rem 1rem 0.5rem 0; vertical-align: top;"><strong>facility id</strong></td>
      <td style="padding: 0.5rem 0;"><code style="font-size: 0.85em;">${f.nearest_facility_id}</code></td>
    </tr>
    <tr>
      <td style="padding: 0.5rem 1rem 0.5rem 0; vertical-align: top;"><strong>distance</strong></td>
      <td style="padding: 0.5rem 0;">${(f.distance_to_nearest_facility_km*1e3).toFixed(0)||"N/A"} metres from plume</td>
    </tr>
    <tr>
      <td style="padding: 0.5rem 1rem 0.5rem 0; vertical-align: top;"><strong>emission rate</strong></td>
      <td style="padding: 0.5rem 0;">${f.rate_kg_hr?.toFixed(1)||"N/A"} kg/hr</td>
    </tr>
    <tr>
      <td style="padding: 0.5rem 1rem 0.5rem 0; vertical-align: top;"><strong>observation date</strong></td>
      <td style="padding: 0.5rem 0;">${nt(f.datetime)}</td>
    </tr>
    <tr>
      <td style="padding: 0.5rem 1rem 0.5rem 0; vertical-align: top;"><strong>confidence</strong></td>
      <td style="padding: 0.5rem 0;">${f.confidence_score?.toFixed(1)||"N/A"}%</td>
    </tr>
    <tr>
      <td style="padding: 0.5rem 1rem 0.5rem 0; vertical-align: top;"><strong>facilities within 1.5 km</strong></td>
      <td style="padding: 0.5rem 0;">${f.operator_facilities_of_type||0} same operator, ${f.total_facilities_nearby} total</td>
    </tr>
  </table>
  <div id="legend-${b}" style="font-size: 0.85em; line-height: 1.6;"></div>
`;const Ce=document.createElement("div");Ce.id=p,L.appendChild(W),L.appendChild(Ce),v.appendChild(h),v.appendChild(L),c.appendChild(v)}};return s.addEventListener("input",d),d(),n(i),{style:r,wrapper:i,searchContainer:o,searchInput:s,hr:a,cardsContainer:c,currentlyExpanded:l,allPlumes:u,renderCards:d}},inputs:["plumes","loadMap","display"],outputs:["style","wrapper","searchContainer","searchInput","hr","cardsContainer","currentlyExpanded","allPlumes","renderCards"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});G({root:document.getElementById("cell-5"),expanded:[],variables:[]},{id:5,body:e=>{const t=async()=>{if(!e.L){const n=document.createElement("link");n.rel="stylesheet",n.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(n),await new Promise((r,i)=>{const o=document.createElement("script");o.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",o.onload=r,o.onerror=i,document.head.appendChild(o)})}return e.L};return e.loadLeaflet=t,{loadLeaflet:t}},inputs:["globalThis"],outputs:["loadLeaflet"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});G({root:document.getElementById("cell-6"),expanded:[],variables:[]},{id:6,body:(e,t,n)=>{async function r(i,o){const s=await e(),a=`map-${i}`,c=document.getElementById(a),l=document.createElement("div");l.style.cssText="height: 420px; border-radius: 4px; margin-bottom: 15px;",c.appendChild(l);const u=s.map(l,{zoomControl:!1}).setView([o.latitude,o.longitude],14);s.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles © Esri",maxZoom:19,className:"grayscale-tiles"}).addTo(u);const d=document.createElement("style");d.textContent=".grayscale-tiles { filter: grayscale(100%) brightness(0.6); }",document.head.appendChild(d);const y=s.circleMarker([o.latitude,o.longitude],{radius:10,fillColor:"#D94848",color:"transparent",weight:0,opacity:1,fillOpacity:.9}).addTo(u),m=h=>h?new Date(h).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A";y.bindTooltip(`
<strong>methane plume</strong><br>
${o.rate_kg_hr?.toFixed(1)} kg/hr<br>
${m(o.datetime)}
  `,{permanent:!1,sticky:!1});const b={well:"#60BF66",compressor:"#F1C644",processing:"#F28322",tank_battery:"#9461C7",injection_disposal:"#D94848",petroleum_terminal:"#F28322",station_other:"#9461C7",lng_facility:"#D94848",refinery:"#F28322"},f=t.filter(h=>h.plume_id===o.id),g={},p={};for(const h of f){g[h.infra_type]||(g[h.infra_type]=new Set),g[h.infra_type].add(h.facility_id);const k=b[h.infra_type]||"#aaa",L=h.facility_id===o.nearest_facility_id;s.circleMarker([h.latitude,h.longitude],{radius:L?8:4,fillColor:k,color:"transparent",weight:0,opacity:1,fillOpacity:L?1:.7}).addTo(u).bindTooltip(`
  <strong>${h.infra_type}</strong><br>
  Operator: ${h.operator||"Unknown"}<br>
  Distance: ${h.distance_m}m<br>
  <small>${h.facility_id}</small>
`,{permanent:!1,sticky:!1})}for(const[h,k]of Object.entries(g))p[h]=k.size;const A=document.getElementById(`legend-${i}`);let v='<div><span style="color: #D94848; font-size: 1.2em;">●</span> methane plume</div>';p.well&&(v+=`<div><span style="color: #60BF66;">●</span> wells (${p.well})</div>`),p.compressor&&(v+=`<div><span style="color: #F1C644;">●</span> compressors (${p.compressor})</div>`),p.processing&&(v+=`<div><span style="color: #F28322;">●</span> processing (${p.processing})</div>`),p.tank_battery&&(v+=`<div><span style="color: #9461C7;">●</span> tank batteries (${p.tank_battery})</div>`),p.injection_disposal&&(v+=`<div><span style="color: #D94848;">●</span> injection/disposal (${p.injection_disposal})</div>`),p.petroleum_terminal&&(v+=`<div><span style="color: #F28322;">●</span> terminals (${p.petroleum_terminal})</div>`),p.lng_facility&&(v+=`<div><span style="color: #D94848;">●</span> lng facilities (${p.lng_facility})</div>`),p.refinery&&(v+=`<div><span style="color: #F28322;">●</span> refineries (${p.refinery})</div>`),A.innerHTML=v,setTimeout(()=>u.invalidateSize(),100)}return n.loadMap=r,{loadMap:r}},inputs:["loadLeaflet","infrastructure","globalThis"],outputs:["loadMap"],output:void 0,assets:void 0,autodisplay:!1,autoview:void 0,automutable:void 0});export{_};
